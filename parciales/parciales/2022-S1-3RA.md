# 1. La persona encargada de la organización redes.edu.ar requiere de su servicio de consultoría. Además, le presenta una explicación con el siguiente diagrama:

![Alt text](images/image-11.png)

Considerar sobre los DNS servers:
- ns1: servidor autoritativo para redes.edu.ar
- ns-res: servidor resolver interno.
- a.riu.edu.ar: server autoritativo de la zona edu.ar
- 
Considerar sobre web servers:
- web-prin: tiene definido 2 sitios web.
wp1.redes.edu.ar y wp2.redes.edu.ar.

## a) Su primera tarea es asistir en la migración del servidor web principal con una nueva dirección IP: 203.0.113.229. Se le pide encontrar una manera en la que pueda ayudar a reducir el tiempo de propagación a 1 hora luego de que se efectivice la modificación de los registros DNS afectados. 
Indique qué solución propone, en cúal/cuáles servidores realizaría el cambio y para cada uno la configuración completa de los registros afectados.

Modificaría los siguientes registros del servidor dns autoritativo ns1.redes.edu.ar: 
- registro "A" asociado a web-prin.redes.edu.ar, modificaría su adress a 203.0.113.229:
  - wp1.redes.edu.ar A 203.0.113.229
  - wp2.redes.edu.ar CNAME wp1.redes.edu.ar
- para el tiempo de propagación, modificaría con antelación el campo de refresh time del registro "SOA" a "3600" y el campo "Minimum TTL" a "3600", de esta forma los servidores autoritativos secundarios tendran sus registros actualizados con el servidor primario al menos cada una hora, y los registros tendrán un default ttl de 1 hora.


## b) El administrador capturó tráfico HTTP en web-prin y observó que los recursos solicitados por un user-agent fueron respondidos en orden, secuencialmente durante una misma conexión TCP. Indique qué versión HTTP capturó y cuál es la característica de HTTP observada.

Es Http versión 1.1 porque usa una misma conexión tcp, entonces no puede der http 1.0. Cómo fue respondido secuencialmente y en orden, no puede der http 2, ya que la versión 2 responde en forma paralela, no secuencial.

## c) Se le indica instalar un servidor de correo completo para los usuarios de ambas sedes en mail-1. Además instalar mail-2 para que en caso de que mail-1 deje de prestar servicio no se pierdan correos entrantes. El único requisito es que se utilicen los menores recursos de hardware posible. 
Indique qué protocolos configurará en cada servidor y adicionalmente incluya los registros DNS que intervienen en la solución.

En mail-1 implementaría un servidor de correo con POP y SMTP. Elijo POP ya que es un protocolo liviano para que los usuarios puedan acceder a sus correos. El protocolo SMTP se encargará de enviar los correos del servidor a los destinatarios  y recibir correos de otros MTA y de mail-2 (en caso de que mail-1 se haya caído y durante el transcurso de esa caída se hayan recibido correos en mail-2)

En el mail-2 implementaría implementaría un servidor de correo con únicamente SMTP, que permitirá que se puedan recibir correos desde el mta de otras areas en el caso de que se caiga el servidor mail-1. 

Registros dns agregados en el servidor primario ns1.redes.edu.ar:

redes.edu.ar MX 1 mail-1.redes.edu.ar
redes.edu.ar MX 1 mail-2.redes.edu.ar
mail-1.redes.edu.ar A 203.0.113.227
mail-2.redes.edu.ar A 198.51.100.133

## d) El usuario de PC-D al conectarse al servicio ftp.redes.edu.ar logra ejecutar comandos pero falla al solicitar la descarga de un archivo. Previamente comprobó que el servicio FTP está debidamente configurado y que el usuario de PC-E puede utilizar el servicio sin problemas. Indique qué ocasiona el problema de PC-D y cómo solucionarlo de la manera más sencilla.

Un problema posible es que la PC-D se encuentra en una red privada (ya que su ip está en el rango de ip privadas que comienzan con 192.168...) y se esté conectando en modo Activo al servidor FTP. Al conectarse en modo Activo, puede haber conflictos con la posible configuración NAT que tenga el router conectado a esa red privada, ya que es el servidor FTP el que se conecta a un puerto del Cliente y se debería tener habilitado el Port Forwarding para ese caso. Una forma sencilla de solucionarlo es que la PC-D se conecte en modo pasivo así como debe estár conectada la PC-E que no tiene problemas.